<div class="tab-pane fade show active" id="compare-tab-pane" role="tabpanel" aria-labelledby="compare-tab" tabindex="0">
    <!-- "Compare two algorithms" tab content begins here" -->
    <h2 class="compact-spacing">Algorithm Comparison</h2>
    <p class="compact-spacing">
        This graph presents a direct comparison between two recommender system algorithms across multiple datasets based on the select
        performance metric such nDCG, Hit Ratio (HR) or Recall and the selected K-value. The performance results are further grouped
        into five different regions to provide deeper analytical insights.
        <ul style="list-style: none; padding-left: 1rem;">
            <li style="display: flex; align-items: center; position: relative; padding-left: 1rem; margin-bottom: 0.5rem;">
                <span style="position: absolute; left: 0; width: 12px; height: 12px; background-color: #8d8d8d; border-radius: 50%;"></span>
                <span style="margin-left: 0.5rem;">The red area identifies datasets where both algorithms struggle.</span>
            </li>
            <li style="display: flex; align-items: center; position: relative; padding-left: 1rem; margin-bottom: 0.5rem;">
                <span style="position: absolute; left: 0; width: 12px; height: 12px; background-color: #8d8d8d; border-radius: 50%;"></span>
                <span style="margin-left: 0.5rem;">The green area identifies datasets where both algorithms perform well.</span>
            </li>
            <li style="display: flex; align-items: center; position: relative; padding-left: 1rem; margin-bottom: 0.5rem;">
                <span style="position: absolute; left: 0; width: 12px; height: 12px; background-color: #8d8d8d; border-radius: 50%;"></span>
                <span style="margin-left: 0.5rem;">The blue and yellow areas identify datasets where only one algorithm outperforms the other.</span>
            </li>
            <li style="display: flex; align-items: center; position: relative; padding-left: 1rem; margin-bottom: 1rem;">
                <span style="position: absolute; left: 0; width: 12px; height: 12px; background-color: #8d8d8d; border-radius: 50%;"></span>
                <span style="margin-left: 0.5rem;">The white area identifies datasets where both algorithms perform moderately.</span>
            </li>
        </ul>
        Since the comparison involves only two selected algorithms, any conclusion about overall dataset difficulties or
        similarities should be interpreted with caution, as they may not generalize beyond the chosen algorithms. For that,
        <span id="aps-redirect" style="color:blue; text-decoration:underline; cursor:pointer;">Algorithm Performance Space (APS)</span>
        is recommended.
    </p>

    <hr class="compact-spacing-large">

    <!-- Form controls to select two algorithms -->
    <div class="row mb-3">
        <div class="col">
            <label for="formControlAlgorithm1" class="form-label">Algorithm 1</label>
            <select id="formControlAlgorithm1" class="form-select compareAlgorithms" aria-label="Select algorithm 1"></select>
        </div>
        <div class="col">
            <label for="formControlAlgorithm2" class="form-label">Algorithm 2</label>
            <select id="formControlAlgorithm2" class="form-select compareAlgorithms" aria-label="Select algorithm 2"></select>
        </div>
    </div>
    <!-- Form controls to select performance metric and K value -->
    <div class="row mb-3">
        <div class="col">
            <label for="formPerformanceMetric" class="form-label">Performance Metric</label>
            <select id="formPerformanceMetric" class="form-select compareAlgorithms" aria-label="Select performance metric">
                <option value="ndcg">nDCG</option>
                <option value="hr">Hit Ratio (HR)</option>
                <option value="recall">Recall</option>
            </select>
        </div>
        <div class="col">
            <label for="formKValue" class="form-label">K-Value</label>
            <select id="formKValue" class="form-select compareAlgorithms" aria-label="Select k-value">
                <option value="one">@1</option>
                <option value="three">@3</option>
                <option value="five">@5</option>
                <option value="ten">@10</option>
                <option value="twenty">@20</option>
            </select>
        </div>
    </div>

    <!-- Textual information in a collapsible -->
    <div class="accordion compact-spacing" id="accordionAPS">
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingOne">
                <button class="accordion-button collapsed acc-btn-icon" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
                    aria-expanded="false" aria-controls="collapseOne">
                    <span>Dataset Filter</span>
                    <span id="compare-algo-filter-header" style="margin-left: auto;">(All selected)</span>
                </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
                data-bs-parent="#accordionAPS">
                <div id="compare-algo-filter" class="accordion-body" style="display: flex; flex-wrap: wrap; gap: 12px;">
                    <!-- NEW: Select All/Deselect All Button - will be dynamically added at the top -->
                    <!-- Dataset filter checkboxes - dynamically added here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Chart for algorithm comparison -->
    <canvas id="compare-algo-chart" class="my-3"></canvas>



    <div style="display: flex; flex-direction: row; justify-content: center; align-items: center; gap: 1rem;">
        <!-- Button to export the chart as PNG -->
        <button id="compare-algo-export-btn" type="button" class="btn btn-primary">
            <i class="fa-solid fa-download" style="color: white !important; margin-right: 0.3rem;"></i>Export as PNG
        </button>
        <!-- Button to share the comparison -->
        <button id="compare-algo-share-btn" type="button" class="btn btn-primary">
            <i class="fa-solid fa-link"></i> Share
        </button>
        <button id="compare-algo-metadata-btn" type="button" class="btn btn-primary">
            <i class="fa-solid fa-file-code" style="color: white !important; margin-right: 0.3rem;"></i>See Metadata
        </button>
    </div>

    <hr class="modern-section-divider">

    <!-- Solved Problems Section -->
    <div class="modern-table-section">
        <div class="modern-section-header">Solved Problems</div>
        <table class="modern-table">
            <thead>
                <tr>
                    <th>Dataset</th>
                    <th class="compare-algo-x-name">X</th>
                    <th class="compare-algo-y-name">Y</th>
                </tr>
            </thead>
            <tbody id="compare-algo-solved">

            </tbody>
        </table>
    </div>

    <!-- Solved By Algorithm 1 Section -->
    <div class="modern-table-section">
        <div class="modern-section-header" id="compare-algo-solved-by-x-header">Solved By X</div>
        <table class="modern-table">
            <thead>
                <tr>
                    <th>Dataset</th>
                    <th class="compare-algo-x-name">X</th>
                    <th class="compare-algo-y-name">Y</th>
                </tr>
            </thead>
            <tbody id="compare-algo-solved-by-x">

            </tbody>
        </table>
    </div>

    <!-- Solved By Algorithm 2 Section -->
    <div class="modern-table-section">
        <div class="modern-section-header" id="compare-algo-solved-by-y-header">Solved By Y</div>
        <table class="modern-table">
            <thead>
                <tr>
                    <th>Dataset</th>
                    <th class="compare-algo-x-name">X</th>
                    <th class="compare-algo-y-name">Y</th>
                </tr>
            </thead>
            <tbody id="compare-algo-solved-by-y">

            </tbody>
        </table>
    </div>

    <!-- Mediocres Section -->
    <div class="modern-table-section">
        <div class="modern-section-header">Mediocres</div>
        <table class="modern-table">
            <thead>
                <tr>
                    <th>Dataset</th>
                    <th class="compare-algo-x-name">X</th>
                    <th class="compare-algo-y-name">Y</th>
                </tr>
            </thead>
            <tbody id="compare-algo-mediocres">

            </tbody>
        </table>
    </div>

    <!-- True Challenges Section -->
    <div class="modern-table-section">
        <div class="modern-section-header">True Challenges</div>
        <table class="modern-table">
            <thead>
                <tr>
                    <th>Dataset</th>
                    <th class="compare-algo-x-name">X</th>
                    <th class="compare-algo-y-name">Y</th>
                </tr>
            </thead>
            <tbody id="compare-algo-true-challenges">

            </tbody>
        </table>
    </div>
</div>